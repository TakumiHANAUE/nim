# ブラックジャックのルール
ブラックジャックのルールは以下の通りとする。
- プレイヤーは1人とする
- ユーザーはプレイヤーとなる
- ディーラーはCPUである

## ゲームの流れ
以下の順序でゲームが進行する。
1. カードを切る
1. カードを配る
1. カードを引く(プレイヤー)
1. カードを引く(ディーラー)
1. 勝敗判定
### カードを切る
トランプをシャッフルし山札を作成する。  トランプはジョーカーを除く52枚を使用する。
### カードを配る
ディーラーとプレイヤーにカードを交互に配る。  
それぞれの手札が2枚になるまで配る。  
カードは山札の上から配る。  
ディーラーは1枚目の手札を表に、2枚目を裏にする。  
プレイヤーは1枚目、2枚目ともに表にする。  
### カードを引く(プレイヤー)
プレイヤーは山札から1枚ずつカードを引く。  
プレイヤーは引いたカードを自分の手札に追加する。  
プレイヤーの手札の合計点が22点以上となった場合、その時点でプレイヤーは負けとなる。
### カードを引く(ディーラー)
ディーラーは2枚めの手札を表にする。  
ディーラーは山札から1枚ずつカードを引き、自分の手札に追加する。  
ディーラーは自分の手札の合計点が17点以上になるまで、山札からカードを引く。  
ディーラーの手札の合計点が22点以上となった場合、その時点でディーラーは負けとなる。
## 勝敗判定
プレイヤーとディーラーの手札の合計点を比較し、21点により近いほうが勝利となる。  
同点の場合は引き分けとなる。

# 機能要件
## ゲーム進行 プロシージャ
|プロシージャ名|機能|
|:--|:--|
|Initialize|初期化する|
|DealCards|カードを配る|
|DrawCard_Player|カードを引く（プレイヤー）|
|DrawCard_Dealer|カードを引く（ディーラー）|
|Judge|勝敗判定|
|||

## Member オブジェクト
プレイヤーまたはディーラーの親オブジェクト。
### メンバ変数
|変数名|型|意味|
|:--|:--|:--|
|name|string|名前|
|hand|seq[Card]|手札|
|score|Score|手札の合計点|
|||
### メソッド
|メソッド名|機能|
|:--|:--|
|Reset|オブジェクトの初期化|
|CalculateScore|得点を計算する|
|IsBurst|バーストしているかどうか|
|PrintHands|手札の表示|
|SuitToString|カードのマークを記号に変換する|
|NumberToString|カードの数字を、文字列に変換する|
|||

## Player オブジェクト
プレイヤーのオブジェクト。  
Memberオブジェクトを継承する。
### メンバ変数
Memberオブジェクトと同じ。
### メソッド
|メソッド名|機能|
|:--|:--|
|ReceiveCard|カードを受け取る|
|||

## Dealer オブジェクト
ディーラーのオブジェクト。  
Memberオブジェクトを継承する。
### メンバ変数
|変数名|型|意味|
|:--|:--|:--|
|stock|Stock|山札|
||||
### メソッド
|メソッド名|機能|
|:--|:--|
|GetStock|山札を取る|
|DealCard|カードを配る|
|GetCard|カードを引く|
|ShuffleStock|山札を切る|
|TurnUpHand|手札を表にする|

## Stock オブジェクト
山札を表すオブジェクト。
### メンバ変数
|要素名|型|意味|
|:--|:--|:--|
|card|seq[Card]|山札|
||||

## 定義型

### Card 型
トランプ1枚を表す型。  
#### 型
tuple
#### 要素
|要素名|型|意味|
|:--|:--|:--|
|suit|Suit|マーク|
|number|CardNumber|数字|
|isUp|bool|表裏 (表 true, 裏 false)|

### Score 型
#### 型
range
- 値域 : 最小値 0, 最大値 30

### Suit 型
#### 型
enum
- 値: スペード, ハート, クローバー, ダイヤ

### 数字 CardNumber
#### 型
enum
- 値: A, 2, 3, ... , 10, J, Q, K
